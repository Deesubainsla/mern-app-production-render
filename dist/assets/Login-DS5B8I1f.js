import{u as c,r as u,a as m,j as e,L as x,b as p,_ as i}from"./index-Dfh3ttX0.js";function b(){const{register:r,handleSubmit:l,formState:{errors:t}}=c(),d=u.useContext(m),n=async a=>{const o={email:a.email,password:a.password};try{await p.post("/user/login",o).then(async s=>{i.success(`Welcome ${s.data.user.name}`),localStorage.setItem("User",JSON.stringify(s.data.user)),await d.setuser(s.data.user)})}catch(s){i.error(s==null?void 0:s.response.data.message)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-full w-full py-8 flex justify-center items-center",children:e.jsx("div",{className:" bg-white border dark:bg-slate-900 relative rounded-lg  p-8  shadow-xl w-[90%] md:w-1/2",children:e.jsxs("form",{onSubmit:l(n),children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-10",children:"Login"}),e.jsxs("div",{className:"mb-5",children:[e.jsx("span",{children:"Email:"}),e.jsx("br",{}),e.jsx("input",{className:"p-1 w-full dark:text-black outline-none rounded-md border-[2px]",type:"email",placeholder:"Enter your MyBook Email",...r("email",{required:!0})}),e.jsx("br",{}),t.email&&e.jsx("span",{className:"text-sm text-red-600",children:"This field is required:"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("span",{children:"Password:"}),e.jsx("br",{}),e.jsx("input",{className:"p-1 w-full dark:text-black outline-none rounded-md border-[2px]",type:"password",placeholder:"Enter your MyBook Password",...r("password",{required:!0})}),e.jsx("br",{}),t.password&&e.jsx("span",{className:"text-sm text-red-600",children:"This field is required:"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"submit",className:"bg-red-600  h-fit px-2 duration-300 py-1 text-white hover:scale-110 rounded-md mr-4",children:"Login"}),e.jsxs("p",{className:"text-center",children:["Not Registered?",e.jsx(x,{to:"/signup",onClick:()=>document.querySelector("#myModal").classList.add("hidden"),className:"text-blue-600 hover:text-blue-800",children:"Signup"})]})]})]})})})})}export{b as default};
